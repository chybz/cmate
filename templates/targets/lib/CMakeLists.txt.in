add_library(@NS@::@NAME@ ALIAS @TARGET@)

set(@UTARGET@_INC_DIR "${PROJECT_SOURCE_DIR}/include/@NAME@")
file(GLOB_RECURSE @UTARGET@_HEADERS "${@UTARGET@_INC_DIR}/${CMATE_HEADER_PAT}")
list(APPEND @UTARGET@_ALL_SOURCES ${@UTARGET@_HEADERS})

set(@UTARGET@_SRC_DIR "${CMAKE_CURRENT_SOURCE_DIR}")
file(GLOB_RECURSE @UTARGET@_SOURCES "${@UTARGET@_SRC_DIR}/${CMATE_SOURCE_PAT}")
list(APPEND @UTARGET@_ALL_SOURCES ${@UTARGET@_SOURCES})

target_sources(
    @TARGET@
    PRIVATE
        ${@UTARGET@_ALL_SOURCES}
)

target_include_directories(
    @TARGET@
    PUBLIC
        $<BUILD_INTERFACE:${@UTARGET@_INC_DIR}>
        $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}/@NS@>
    PRIVATE
        ${CMAKE_CURRENT_SOURCE_DIR}
)

set_target_properties(
    @TARGET@
    PROPERTIES
        CXX_STANDARD @STD@
        VERSION @VER@
        SOVERSION @VER_MAJOR@.@VER_MINOR@
        EXPORT_NAME @NAME@
        OUTPUT_NAME @NS@_@NAME@
)
